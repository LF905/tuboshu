import{_ as b,a as O}from"./_plugin-vue_export-helper-Diybfc-x.js";import{_ as k}from"./InputGroup-DtVUuGWC.js";import{b as A,c as j,_ as D}from"./Switch-DcOD2Oop.js";import{r as S,ah as h,ai as d,ak as s,am as N,aj as r,an as c,au as V,al as K,aq as i,ar as C,b as $,K as z,aa as B,aw as I,av as M,at as U}from"./index-DGLxL-Cx.js";import{N as P}from"./headers-BYt1iASj.js";const R={class:"wrap"},q={style:{width:"250px"}},E={class:"switch"},F={__name:"ShortItem",props:{element:Object},setup(u){const m=A(),p=u;let o=p.element.cmd.replace(/CommandOrControl/ig,"Ctrl");const n=S(o),_=e=>{e.preventDefault(),e.stopPropagation();const t=[];if(e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Ctrl"),e.altKey&&t.push("Alt"),e.shiftKey&&t.push("Shift"),t.length>=3||t.length<1)return;let l=e.key===" "?"Space":g(e.key);if(l=l.replace(/^Arrow/,""),n.value=t.join("+")+"+",["Control","Alt","Shift","Meta"].includes(l))return;n.value=[...t,l].join("+");const a=n.value.replace(/Ctrl/ig,"CommandOrControl"),y=Object.assign(C(p.element),{cmd:a,flag:!1});f(y)},v=e=>{e.preventDefault(),e.stopPropagation();const t=n.value.split("+").filter(a=>a!==""),l=["Ctrl","Shift","Alt"];t.every(a=>l.includes(a))&&(n.value=o)},g=e=>e&&e.charAt(0).toUpperCase()+e.slice(1),f=e=>{window.myApi.updateShortcut(e).then(t=>{t.code===0?(m.success(t.msg),o=t.data.cmd.replace(/CommandOrControl/ig,"Ctrl")):(m.error(t.msg),n.value=o)})},x=e=>{const t=n.value.replace(/Ctrl/ig,"CommandOrControl");let l=Object.assign(C(p.element),{cmd:t,isOpen:e,flag:!0});f(l)};return(e,t)=>{const l=j,a=k,y=D;return d(),h("div",R,[s("div",q,N(u.element.tag),1),s("div",null,[r(a,null,{default:c(()=>[r(l,{style:{width:"90%"},size:"small",readonly:"",value:K(n),"onUpdate:value":t[0]||(t[0]=w=>V(n)?n.value=w:null),onKeydown:_,onKeyup:v},null,8,["value"])]),_:1})]),s("div",E,[r(y,{size:"medium",value:u.element.isOpen,"onUpdate:value":[t[1]||(t[1]=w=>u.element.isOpen=w),x],style:{"font-size":"12px"}},{checked:c(()=>t[2]||(t[2]=[i(" 开启 ")])),unchecked:c(()=>t[3]||(t[3]=[i(" 禁用 ")])),_:1},8,["value"])])])}}},H=b(F,[["__scopeId","data-v-49b04bfd"]]),L={id:"content-main"},T={class:"box"},G={class:"box-card"},J={__name:"ShortcutView",setup(u){const m=S([]);return $(async()=>{m.value=await window.myApi.getShortcuts()}),(p,o)=>{const n=P,_=O,v=H,g=M("auto-height");return d(),h("div",L,[r(_,{"show-icon":!1,type:"info",style:{"margin-bottom":"1rem"}},{default:c(()=>[r(n,{style:{"margin-bottom":"0"}},{default:c(()=>o[0]||(o[0]=[i("快捷键")])),_:1})]),_:1}),r(_,{"show-icon":!1},{default:c(()=>o[1]||(o[1]=[i(" 1.快捷键不区分大小写,先按住Ctrl键，再按其它快捷键；"),s("br",null,null,-1),i(" 2.在macOS系统：Ctrl === Command键，Alt === Option键；"),s("br",null,null,-1),i(" 3.自定义快捷键时，先获取焦点，然后在输入框中按其它快捷键；"),s("br",null,null,-1)])),_:1}),s("div",T,[o[2]||(o[2]=s("div",{class:"title"},[s("div",{style:{width:"250px"}}," 功能描述 "),s("div",{style:{width:"200px"}}," 自定义快捷键 "),s("div",{class:"switch"}," 是否禁用 ")],-1)),z((d(),h("div",G,[(d(!0),h(B,null,I(K(m),f=>(d(),U(v,{element:f},null,8,["element"]))),256))])),[[g,{offset:20}]])])])}}},tt=b(J,[["__scopeId","data-v-7af094f7"]]);export{tt as default};
