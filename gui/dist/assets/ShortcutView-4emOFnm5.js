import{_ as b,a as O}from"./_plugin-vue_export-helper-D9youoFm.js";import{r as S,a3 as p,a4 as c,a6 as s,aJ as k,ac as i,a8 as A,a5 as u,a9 as d,ag as j,a7 as x,ad as C,b as N,I as V,ai as D,aj as I,ah as $,af as z}from"./index-qr2Js23o.js";import{_ as B}from"./InputGroup-B15QeYa-.js";import{a as M,b as U,_ as P}from"./Switch-Bk-cOiU9.js";import{N as R}from"./headers-D8FUoNjy.js";const E={class:"wrap"},F={style:{width:"250px"}},G={key:0},H={class:"switch"},J={__name:"ShortItem",props:{element:Object},setup(r){const m=M(),_=r;let o=_.element.cmd.replace(/CommandOrControl/ig,"Ctrl");const n=S(o),h=e=>{e.preventDefault(),e.stopPropagation();const t=[];if(e.ctrlKey&&t.push("Ctrl"),e.metaKey&&t.push("Ctrl"),e.altKey&&t.push("Alt"),e.shiftKey&&t.push("Shift"),t.length>=3||t.length<1)return;let a=e.key===" "?"Space":g(e.key);if(a=a.replace(/^Arrow/,""),n.value=t.join("+")+"+",["Control","Alt","Shift","Meta"].includes(a))return;n.value=[...t,a].join("+");const l=n.value.replace(/Ctrl/ig,"CommandOrControl"),y=Object.assign(C(_.element),{cmd:l,flag:!1});f(y)},v=e=>{e.preventDefault(),e.stopPropagation();const t=n.value.split("+").filter(l=>l!==""),a=["Ctrl","Shift","Alt"];t.every(l=>a.includes(l))&&(n.value=o)},g=e=>e&&e.charAt(0).toUpperCase()+e.slice(1),f=e=>{window.myApi.updateShortcut(e).then(t=>{t.code===0?(m.success(t.msg),o=t.data.cmd.replace(/CommandOrControl/ig,"Ctrl")):(m.error(t.msg),n.value=o)})},K=e=>{const t=n.value.replace(/Ctrl/ig,"CommandOrControl");let a=Object.assign(C(_.element),{cmd:t,isOpen:e,flag:!0});f(a)};return(e,t)=>{const a=U,l=B,y=P;return c(),p("div",E,[s("div",F,[r.element.isGlobal?(c(),p("span",G,"🌐")):k("",!0),i(A(r.element.tag),1)]),s("div",null,[u(l,null,{default:d(()=>[u(a,{style:{width:"90%"},size:"small",readonly:"",value:x(n),"onUpdate:value":t[0]||(t[0]=w=>j(n)?n.value=w:null),onKeydown:h,onKeyup:v},null,8,["value"])]),_:1})]),s("div",H,[u(y,{size:"medium",value:r.element.isOpen,"onUpdate:value":[t[1]||(t[1]=w=>r.element.isOpen=w),K],style:{"font-size":"12px"}},{checked:d(()=>t[2]||(t[2]=[i(" 开启 ")])),unchecked:d(()=>t[3]||(t[3]=[i(" 禁用 ")])),_:1},8,["value"])])])}}},L=b(J,[["__scopeId","data-v-ad0bea21"]]),T={id:"content-main"},q={class:"box"},Q={class:"box-card"},W={__name:"ShortcutView",setup(r){const m=S([]);return N(async()=>{m.value=await window.myApi.getShortcuts()}),(_,o)=>{const n=R,h=O,v=L,g=$("auto-height");return c(),p("div",T,[u(h,{"show-icon":!1,type:"info",style:{"margin-bottom":"1rem"}},{default:d(()=>[u(n,{style:{"margin-bottom":"0"}},{default:d(()=>o[0]||(o[0]=[i("快捷键")])),_:1})]),_:1}),u(h,{"show-icon":!1},{default:d(()=>o[1]||(o[1]=[i(" 1.🌐标记为全局快捷键，程序失去焦点后也能使用。"),s("br",null,null,-1),i(" 2.在macOS系统：Ctrl === Command键，Alt === Option键；"),s("br",null,null,-1),i(" 3.自定义快捷键时，先获取焦点，然后在输入框中按其它快捷键；"),s("br",null,null,-1)])),_:1}),s("div",q,[o[2]||(o[2]=s("div",{class:"title"},[s("div",{style:{width:"250px"}}," 功能描述 "),s("div",{style:{width:"200px"}}," 自定义快捷键 "),s("div",{class:"switch"}," 是否禁用 ")],-1)),V((c(),p("div",Q,[(c(!0),p(D,null,I(x(m),f=>(c(),z(v,{element:f},null,8,["element"]))),256))])),[[g,{offset:20}]])])])}}},nt=b(W,[["__scopeId","data-v-d84d290b"]]);export{nt as default};
